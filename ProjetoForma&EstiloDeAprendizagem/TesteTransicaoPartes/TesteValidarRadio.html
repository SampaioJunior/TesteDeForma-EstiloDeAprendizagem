<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script type="text/javascript">
        /*Desenvolvido por Marcel Melo - marcel.msmelo@gmail.com*/

        //Adicionar evento ao carregar a tela
        window.addEventListener('load', ()=>{
          //Seleciona todos elementos com a classe .questao1
          var radios = document.querySelectorAll(".questao1");
          for(let i = 0; i< radios.length; i++){
            var radio = radios[i];
            //Adiciona um eventoListener em cada radio buttom para o evento de change
            radio.addEventListener('change',verificaRadioMarcado);
          }
        });

        //Verifica qual alternativa vertical já foi marcada e a desabilita
        function verificaRadioMarcado(){
          const alternativas = 4; //Numero de alternativas por cada questão
          for(let i = 0; i< alternativas; i++){
            var checked = false;
            var classe = ".valor"+(i+1);
            //Seleciona todos elementos com o mesmo value
            //(a classe representa o valor em cada subquestao)
            var radios = document.querySelectorAll(classe);
            for(let i = 0; i< radios.length; i++){
              var radio = radios[i];// Para cada radio de um determinado valor
              //Verifica se eexiste algum que já foi selecionado
              if(radio.checked == true){
                checked = true;
                break;
              }
            }
            //Caso algum foi selecionado a variavel checked = true,
            //consequentemente todos do mesmo valor serão desabilitados
            //Caso contrário, todos que não foram selecionados serão habilitados
            //Necessário para troca de valores na mesma linha
            disableRadio(classe, checked);
          }
        }

        //Limpar a seleção de todos elementos na mesma questão
        // Ao final, todos estarão desabilitados, sendo assim necessário
        // o botão de reset
        function reset(){
            var radios = document.querySelectorAll('.questao1');
            for(let i = 0; i< radios.length; i++){
              var radio = radios[i];
              radio.checked = false;
              radio.disabled = false;
            }
        }

        //Desabilita os radios buttons de uma determinada classe
        //Neste caso, utiliza-se a classe que representa o valor do radio button
        //Para validação vertical de seleção
        function disableRadio(classe, desabilitar){
          var radios = document.querySelectorAll(classe);
          for(let i = 0; i< radios.length; i++){
            var radio = radios[i];
            radio.disabled = desabilitar;
          }
        }
    </script>
  </head>
  <body>
    <div>
        <h1 class="title"> Aprendo melhor quando...</h1><br>

        <h1 class="title">Questão 1</h1><br>

        <p><span class="pergunta">Posso escolher:<br></span></p>

        <p><label>
            <input id="1" class="questao1 valor1" type="radio" value="1" name="questao1.1">1
            <input id="2" class="questao1 valor2" type="radio" value="2" name="questao1.1">2
            <input id="3" class="questao1 valor3" type="radio" value="3" name="questao1.1">3
            <input id="4" class="questao1 valor4" type="radio" value="4" name="questao1.1">4<br>
        </label></p>

        <p><span class="pergunta"> Posso experimentar:<br></span></p>

        <P><label>
            <input id="5" class="questao1 valor1" type="radio" value="1" name="questao1.2">1
            <input id="6" class="questao1 valor2" type="radio" value="2" name="questao1.2">2
            <input id="7" class="questao1 valor3" type="radio" value="3" name="questao1.2">3
            <input id="8" class="questao1 valor4" type="radio" value="4" name="questao1.2">4<br>
        </label></P>

        <p><span class="pergunta">Posso me envolver:<br></span></p>

        <p><label>
            <input id="9" class="questao1 valor1" type="radio" value="1" name="questao1.3">1
            <input id="10" class="questao1 valor2" type="radio" value="2" name="questao1.3">2
            <input id="11" class="questao1 valor3" type="radio" value="3" name="questao1.3">3
            <input id="12" class="questao1 valor4" type="radio" value="4" name="questao1.3">4<br>
        </label></p>

        <p><span class="pergunta"> Posso praticar:<br></span></p>

        <p><label>
            <input id="13" class="questao1 valor1" type="radio" value="1" name="questao1.4">1
            <input id="14" class="questao1 valor2" type="radio" value="2" name="questao1.4">2
            <input id="15" class="questao1 valor3" type="radio" value="3" name="questao1.4">3
            <input id="16" class="questao1 valor4" type="radio" value="4" name="questao1.4">4<br><br>
        </label></p>
    </div>

      <input type="button" value="Reset" onclick="reset()" />

  </body>
</html>
